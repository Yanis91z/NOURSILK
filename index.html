<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NOURSILK - Salon de lissage naturel</title>
    <!-- Polices Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600&family=Montserrat:wght@300;400;500&display=swap"
        rel="stylesheet">
    <!-- Feuille de style principale -->
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <!-- En-t√™te avec logo et slogan -->
    <header style="background-color: #f5efe6;">
        <h1><a href="./" style="text-decoration: none; color: #513823;">NOURSILK</a></h1>
        <h2 style="color: #8a6d54;">HAIR STYLING</h2>
    </header>

    <!-- Navigation principale -->
    <nav class="main-nav">
        <ul>
            <li><a href="#services">Nos Lissages</a></li>
            <li><a href="#choose-us">Pourquoi Nous</a></li>
            <li><a href="#about-nour">√Ä propos de Nour</a></li>
            <li><a href="#reservation">R√©servation</a></li>
            <li><a href="#testimonials">Avis</a></li>
            <li><a href="#contact">Contact</a></li>
        </ul>
    </nav>

    <!-- Section vid√©o de pr√©sentation -->
    <section class="video-section">
        <video autoplay muted loop>
            <source src="assets/video3.mp4" type="video/mp4">
            Votre navigateur ne supporte pas les vid√©os HTML5.
        </video>
    </section>

    <!-- Section des services (types de lissage) -->
    <section id="services" class="services">
        <h2>Nos lissages</h2>
        <div class="services-container">
            <div class="service">
                <h3>Lissage Indien</h3>
                <p>Ultra naturel, bas√© sur des herbes ayurv√©diques. Offre un effet soyeux tout en respectant la fibre
                    capillaire.</p>
                <div class="service-details">
                    <div class="detail">
                        <span class="icon">‚è±Ô∏è</span>
                        <span class="label">Dur√©e :</span>
                        <span class="value">2h √† 3h30</span>
                    </div>
                    <div class="detail">
                        <span class="icon">üí∞</span>
                        <span class="label">Tarif :</span>
                        <span class="value">120‚Ç¨ √† 220‚Ç¨</span>
                    </div>
                    <div class="detail">
                        <span class="icon">‚ú®</span>
                        <span class="label">Dure :</span>
                        <span class="value">3 √† 5 mois</span>
                    </div>
                </div>
                <p class="service-note">Prix selon longueur et √©paisseur des cheveux</p>
            </div>
            <div class="service">
                <h3>Lissage Tanin</h3>
                <p>Au tanin, s'origine en d√©pourvissant sans produits chimiques. Id√©al pour les cheveux sensibilis√©s.
                </p>
                <div class="service-details">
                    <div class="detail">
                        <span class="icon">‚è±Ô∏è</span>
                        <span class="label">Dur√©e :</span>
                        <span class="value">1h30 √† 3h</span>
                    </div>
                    <div class="detail">
                        <span class="icon">üí∞</span>
                        <span class="label">Tarif :</span>
                        <span class="value">150‚Ç¨ √† 250‚Ç¨</span>
                    </div>
                    <div class="detail">
                        <span class="icon">‚ú®</span>
                        <span class="label">Dure :</span>
                        <span class="value">4 √† 6 mois</span>
                    </div>
                </div>
                <p class="service-note">Inclut un soin nourrissant post-lissage</p>
            </div>
        </div>
        <div class="services-info">
            <p>Tous nos lissages comprennent une consultation personnalis√©e et des conseils d'entretien adapt√©s √† votre
                type de cheveux. Nous utilisons exclusivement des produits respectueux de la sant√© de vos cheveux.</p>
            <a href="#reservation" class="service-cta">R√©server une s√©ance</a>
        </div>
    </section>

    <!-- Section des avantages -->
    <section id="choose-us" class="choose-us">
        <h2>Pourquoi nous choisir ?</h2>
        <div class="benefits-container">
            <div class="benefit">
                <div class="benefit-icon">üåø</div>
                <h3>Expertise 100% lissage</h3>
                <p>Contrairement aux salons g√©n√©ralistes, nous sommes exclusivement sp√©cialis√©s dans les techniques de
                    lissage. Cette expertise unique nous permet d'exceller dans notre domaine et de vous offrir des
                    r√©sultats incomparables.</p>
            </div>
            <div class="benefit">
                <div class="benefit-icon">üî¨</div>
                <h3>Produits sans formol</h3>
                <p>Nous utilisons uniquement des produits naturels, garantis sans formol ni produits chimiques
                    agressifs. La sant√© de vos cheveux et votre bien-√™tre sont notre priorit√© absolue.</p>
            </div>
            <div class="benefit">
                <div class="benefit-icon">‚ú®</div>
                <h3>R√©sultats brillants et durables</h3>
                <p>Notre ma√Ætrise des techniques de lissage naturel vous assure des cheveux lisses, brillants et en
                    pleine sant√©. Les effets durables vous permettent de profiter longtemps de votre nouvelle chevelure.
                </p>
            </div>
            <div class="benefit">
                <div class="benefit-icon">üë§</div>
                <h3>Consultation personnalis√©e</h3>
                <p>Chaque chevelure est unique. Nous prenons le temps d'analyser votre type de cheveux pour vous
                    recommander le lissage parfaitement adapt√© √† vos besoins et √† vos attentes.</p>
            </div>
            <div class="benefit">
                <div class="benefit-icon">üå±</div>
                <h3>Approche holistique</h3>
                <p>Notre philosophie int√®gre les principes ayurv√©diques traditionnels avec les connaissances modernes
                    pour un soin capillaire complet qui respecte l'√©quilibre naturel de vos cheveux.</p>
            </div>
            <div class="benefit">
                <div class="benefit-icon">üß¥</div>
                <h3>Conseils d'entretien</h3>
                <p>Nous vous guidons dans l'entretien post-lissage avec des recommandations de produits et techniques
                    adapt√©es pour prolonger les effets et maintenir vos cheveux en parfaite sant√©.</p>
            </div>
        </div>
    </section>

    <!-- Section de pr√©sentation de la coiffeuse -->
    <section id="about-nour" class="about-nour">
        <h2>√Ä propos de Nour</h2>
        <div class="about-content">
            <div class="about-image">
                <img src="assets/nour.png" alt="Nour - Experte en lissage">
            </div>
            <div class="about-text">
                <h3>Nour, votre experte en lissage</h3>
                <p>Passionn√©e par la coiffure depuis plus de 10 ans, Nour s'est sp√©cialis√©e dans les techniques de
                    lissage naturel, respectueuses des cheveux et de l'environnement.</p>
                <div class="diplomes">
                    <h4>Dipl√¥mes et certifications</h4>
                    <ul>
                        <li>Dipl√¥me de coiffure (√âcole de Coiffure de Paris)</li>
                        <li>Certification en lissage naturel avanc√©</li>
                        <li>Sp√©cialisation en soins capillaires ayurv√©diques</li>
                    </ul>
                </div>
                <p class="quote">"Ma mission est de vous offrir des cheveux naturellement lisses et brillants, sans
                    compromis sur leur sant√©."</p>
            </div>
        </div>
    </section>

    <!-- Section de r√©servation -->
    <section id="reservation" class="reservation">
        <h2>R√©servation</h2>
        <form action="process_reservation.php" method="POST">
            <label for="name">Nom</label>
            <input type="text" id="name" name="name" required>

            <label for="email">Email</label>
            <input type="email" id="email" name="email" required>

            <label for="phone">T√©l√©phone</label>
            <input type="tel" id="phone" name="phone" required>

            <label>Type de lissage souhait√©</label>
            <div class="radio-group">
                <label for="indien"><input type="radio" id="indien" name="service" value="indien" required> Lissage
                    Indien</label>
                <label for="tanin"><input type="radio" id="tanin" name="service" value="tanin"> Lissage Tanin</label>
            </div>

            <label for="date">Date</label>
            <input type="date" id="date" name="date" required>

            <label for="time">Heure</label>
            <select id="time" name="time" required disabled>
                <option value="">S√©lectionnez d'abord une date</option>
            </select>
            <div id="loading-slots" style="display: none;">Chargement des cr√©neaux disponibles...</div>
            <div id="no-slots-message" style="display: none; color: #b33; margin-top: 5px;">Aucun cr√©neau disponible
                pour cette date. Veuillez choisir une autre date.</div>

            <button type="submit">R√©server</button>
        </form>

        <!-- Message de confirmation -->
        <div id="confirmation" class="confirmation-message" style="display: none;">
            Votre r√©servation a √©t√© enregistr√©e avec succ√®s ! Nous vous contacterons prochainement pour confirmer votre
            rendez-vous.
            <div id="calendar-link" style="display: none; margin-top: 15px;">
                <a href="#" id="google-calendar-link" class="calendar-button" target="_blank">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a5/Google_Calendar_icon_%282020%29.svg/768px-Google_Calendar_icon_%282020%29.svg.png"
                        style="height: 20px; vertical-align: middle; margin-right: 8px;">
                    Ajouter √† Google Calendar
                </a>
            </div>
        </div>
    </section>

    <!-- Section des t√©moignages clients -->
    <section id="testimonials" class="testimonials">
        <h2>Avis / t√©moignages clients</h2>
        <div class="testimonial">
            <div class="stars">
                <span class="star">‚òÖ</span>
                <span class="star">‚òÖ</span>
                <span class="star">‚òÖ</span>
                <span class="star">‚òÖ</span>
                <span class="star">‚òÖ</span>
            </div>
            <p>"Avec mon lissage indien, j'esp√®re que je vais pouvoir avoir un CDI chez LVMH."</p>
            <p class="author">- Anais K.</p>
        </div>
        <div class="testimonial">
            <div class="stars">
                <span class="star">‚òÖ</span>
                <span class="star">‚òÖ</span>
                <span class="star">‚òÖ</span>
                <span class="star">‚òÖ</span>
                <span class="star empty">‚òÜ</span>
            </div>
            <p>"Je suis un nouvel homme depuis que je me suis fait lisser les cheveux."</p>
            <p class="author">- Sabri M.</p>
        </div>
        <div class="testimonial">
            <div class="stars">
                <span class="star">‚òÖ</span>
                <span class="star empty">‚òÜ</span>
                <span class="star empty">‚òÜ</span>
                <span class="star empty">‚òÜ</span>
                <span class="star empty">‚òÜ</span>
            </div>
            <p>"A fuir ! J'ai perdu tous mes cheveux √† cause de Nour. Coiffeuse incomp√©tente."</p>
            <p class="author">- Farid B.</p>
        </div>
    </section>

    <!-- Section de contact -->
    <section id="contact" class="contact">
        <h2>Contact</h2>
        <div class="contact-info">
            <p>Adresse : 123 Rue Imaginaire, 75000 Paris</p>
            <p>T√©l√©phone : 01 23 45 67 89</p>
            <p>Instagram : <a href="https://instagram.com/noursilk" target="_blank">@noursilk</a></p>
            <p>Horaires : Lundi - Vendredi : 9h - 18h</p>
        </div>
    </section>

    <!-- Pied de page -->
    <footer>
        &copy; 2025 NOURSILK | Contact : contact@noursilk.com
    </footer>

    <!-- Bouton pour remonter en haut de la page -->
    <a href="#" class="scroll-top" id="scrollTop" aria-label="Retour en haut de page">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M12 19V5M5 12l7-7 7 7" />
        </svg>
    </a>

    <!-- Script pour le bouton de retour en haut -->
    <script>
        // Fonction pour le d√©filement fluide
        function smoothScroll(target) {
            const element = document.querySelector(target);
            if (element) {
                window.scrollTo({
                    top: element.offsetTop,
                    behavior: 'smooth'
                });
            }
        }

        // S√©lectionner le bouton de retour en haut
        const scrollTopBtn = document.getElementById('scrollTop');

        // Fonction pour afficher/cacher le bouton en fonction du d√©filement
        window.onscroll = function () {
            if (document.body.scrollTop > 300 || document.documentElement.scrollTop > 300) {
                scrollTopBtn.classList.add('show');
            } else {
                scrollTopBtn.classList.remove('show');
            }
        };

        // Ajouter un √©v√©nement de clic pour le d√©filement fluide sur le bouton de retour en haut
        scrollTopBtn.addEventListener('click', function (e) {
            e.preventDefault();
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });

        // Ajouter le d√©filement fluide √† tous les liens de navigation et au bouton de r√©servation
        document.addEventListener('DOMContentLoaded', function () {
            // S√©lectionner tous les liens de navigation et le bouton de r√©servation
            const links = document.querySelectorAll('nav a, .service-cta');

            links.forEach(link => {
                link.addEventListener('click', function (e) {
                    // V√©rifier si le lien pointe vers une section de la page
                    const href = this.getAttribute('href');
                    if (href.startsWith('#')) {
                        e.preventDefault();
                        smoothScroll(href);
                    }
                });
            });
        });

        // Script pour afficher le message de confirmation de r√©servation
        document.addEventListener('DOMContentLoaded', function () {
            // V√©rifier si l'URL contient le param√®tre de succ√®s de r√©servation
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.get('reservation') === 'success') {
                // Afficher le message de confirmation
                const confirmationMessage = document.getElementById('confirmation');
                if (confirmationMessage) {
                    confirmationMessage.style.display = 'block';

                    // V√©rifier s'il y a un lien de calendrier dans la session PHP
                    fetch('get_calendar_link.php')
                        .then(response => response.json())
                        .then(data => {
                            if (data.calendarLink) {
                                const calendarLinkContainer = document.getElementById('calendar-link');
                                const calendarLink = document.getElementById('google-calendar-link');

                                calendarLink.href = data.calendarLink;
                                calendarLinkContainer.style.display = 'block';
                            }
                        })
                        .catch(error => console.error('Erreur:', error));

                    // Faire d√©filer jusqu'au message de confirmation
                    confirmationMessage.scrollIntoView({ behavior: 'smooth' });
                }
            } else if (urlParams.get('reservation') === 'error') {
                // Afficher un message d'erreur
                const confirmationMessage = document.getElementById('confirmation');
                if (confirmationMessage) {
                    confirmationMessage.style.display = 'block';
                    confirmationMessage.innerHTML = 'Une erreur est survenue lors de l\'enregistrement de votre r√©servation. Veuillez r√©essayer ou nous contacter directement.';
                    confirmationMessage.style.backgroundColor = '#ffdddd';
                    confirmationMessage.style.borderColor = '#ffaaaa';

                    // Faire d√©filer jusqu'au message d'erreur
                    confirmationMessage.scrollIntoView({ behavior: 'smooth' });
                }
            }
        });
    </script>

    <!-- Script pour la gestion des cr√©neaux de r√©servation -->
    <script>
        function updateAvailableTimeSlots() {
            const timeSelect = document.getElementById('time');
            const selectedDate = document.getElementById('date').value;

            // Obtenir l'heure de Paris
            const parisTime = new Date().toLocaleString('fr-FR', {
                timeZone: 'Europe/Paris',
                hour12: false,
                hour: '2-digit',
                minute: '2-digit'
            });
            const [currentHour, currentMinutes] = parisTime.split(':').map(Number);

            // Debug log
            console.log('Heure actuelle (Paris):', currentHour + ':' + currentMinutes);

            // Obtenir la date de Paris
            const today = new Date().toLocaleString('fr-FR', {
                timeZone: 'Europe/Paris',
                year: 'numeric',
                month: '2-digit',
                day: '2-digit'
            }).split('/').reverse().join('-');

            // Activer/d√©sactiver le select en fonction de la date
            timeSelect.disabled = false;

            // D√©finir les cr√©neaux possibles
            const timeSlots = [
                "09:00", "09:30", "10:00", "10:30", "11:00", "11:30", "12:00",
                "12:30", "13:00", "13:30", "14:00", "14:30", "15:00", "15:30",
                "16:00", "16:30", "17:00", "17:30"
            ];

            // Vider la liste des cr√©neaux
            timeSelect.innerHTML = '<option value="">Choisir un horaire</option>';

            // Si la date s√©lectionn√©e est aujourd'hui, filtrer les cr√©neaux pass√©s
            if (selectedDate === today) {
                // Debug log
                console.log('Date s√©lectionn√©e est aujourd\'hui');
                console.log('Heure actuelle (Paris):', currentHour + ':' + currentMinutes);

                // Ne pas afficher de cr√©neaux si on est apr√®s 17h30
                if (currentHour >= 18 || (currentHour === 17 && currentMinutes > 30)) {
                    console.log('Apr√®s 17h30, plus de cr√©neaux disponibles');
                    const option = document.createElement('option');
                    option.value = "";
                    option.textContent = "Plus de cr√©neaux disponibles aujourd'hui";
                    timeSelect.innerHTML = '';
                    timeSelect.appendChild(option);
                    timeSelect.disabled = true;
                    return;
                }

                timeSlots.forEach(slot => {
                    const [slotHour, slotMinutes] = slot.split(':').map(Number);

                    // Debug log pour chaque cr√©neau
                    console.log('V√©rification cr√©neau:', slotHour + ':' + slotMinutes);

                    // V√©rifier si le cr√©neau est dans le futur avec une marge de 30 minutes
                    const slotTime = slotHour * 60 + slotMinutes;
                    const currentTime = currentHour * 60 + currentMinutes;

                    // On ajoute la marge de 30 minutes dans la comparaison
                    if (slotTime >= currentTime + 30) {
                        const option = document.createElement('option');
                        option.value = slot + ':00';
                        option.textContent = slot;
                        timeSelect.appendChild(option);

                        // Debug log pour les cr√©neaux ajout√©s
                        console.log('Cr√©neau ajout√©:', slot);
                    } else {
                        console.log('Cr√©neau ignor√©:', slot, '(trop t√¥t)');
                    }
                });
            } else if (selectedDate > today) {
                // Pour les dates futures, afficher tous les cr√©neaux
                console.log('Date future s√©lectionn√©e');
                timeSlots.forEach(slot => {
                    const option = document.createElement('option');
                    option.value = slot + ':00';
                    option.textContent = slot;
                    timeSelect.appendChild(option);
                });
            }

            // Si aucun cr√©neau n'est disponible
            if (timeSelect.options.length === 1) {
                const option = document.createElement('option');
                option.value = "";
                option.textContent = "Aucun cr√©neau disponible";
                timeSelect.innerHTML = '';
                timeSelect.appendChild(option);
                timeSelect.disabled = true;
            }

            // Debug final
            console.log('Nombre de cr√©neaux disponibles:', timeSelect.options.length - 1);
        }

        // Mettre √† jour les cr√©neaux au chargement et quand la date change
        document.addEventListener('DOMContentLoaded', function () {
            const dateInput = document.getElementById('date');

            // D√©finir la date minimale √† aujourd'hui (en utilisant le fuseau horaire de Paris)
            const today = new Date().toLocaleString('fr-FR', {
                timeZone: 'Europe/Paris',
                year: 'numeric',
                month: '2-digit',
                day: '2-digit'
            }).split('/').reverse().join('-');

            dateInput.min = today;

            // Si aucune date n'est s√©lectionn√©e, mettre la date d'aujourd'hui
            if (!dateInput.value) {
                dateInput.value = today;
            }

            updateAvailableTimeSlots();

            // Mettre √† jour les cr√©neaux quand la date change
            dateInput.addEventListener('change', updateAvailableTimeSlots);

            // Mettre √† jour les cr√©neaux toutes les minutes pour garder l'affichage √† jour
            setInterval(updateAvailableTimeSlots, 60000);
        });
    </script>
</body>

</html>