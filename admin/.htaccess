# Configuration Apache pour l'interface d'administration NOURSILK
# Ce fichier contrôle les règles de réécriture d'URL et les paramètres de sécurité

# Activer le moteur de réécriture d'URL
RewriteEngine On

# Masquer l'extension .php pour une meilleure présentation des URLs
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}.php -f
RewriteRule ^([^\.]+)$ $1.php [NC,L]

# Rediriger "index" vers la racine de l'administration pour une URL plus propre
RewriteRule ^index$ / [R=301,L]

# Prévenir l'affichage du contenu des répertoires
Options -Indexes

# Limiter l'accès aux seuls fichiers nécessaires
<FilesMatch "^(index\.php|login\.php|logout\.php)$">
    Order Allow,Deny
    Allow from all
</FilesMatch>

# Bloquer l'accès aux fichiers sensibles
<FilesMatch "^(\.|config|inc)">
    Order Allow,Deny
    Deny from all
</FilesMatch>

# Protection contre les attaques XSS
<IfModule mod_headers.c>
    Header set X-XSS-Protection "1; mode=block"
    Header set X-Content-Type-Options "nosniff"
    Header set X-Frame-Options "SAMEORIGIN"
</IfModule> 